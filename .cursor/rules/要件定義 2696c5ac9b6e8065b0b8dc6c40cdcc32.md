# 要件定義

# ポートフォリオサイト 要件定義・仕様書

## 📋 目次

1. [プロジェクト概要]
2. [技術スタック]
3. [機能要件]
4. [画面仕様]
5. [非機能要件]
6. [開発環境]

---

## 1. プロジェクト概要

### 1.1 プロジェクト名

個人ポートフォリオサイト

### 1.2 目的

- エンジニアとしてのスキル・経歴・作品を効果的に発信
- 企業や採用担当者に自己PRを行うためのWebサイト
- 問い合わせを受け付ける窓口として機能

### 1.3 対象ユーザー

- 採用担当者
- 潜在的なクライアント
- 技術コミュニティのメンバー
- 同業エンジニア

---

## 2. 技術スタック

### 2.1 バックエンド

| 技術 | バージョン | 用途 |
| --- | --- | --- |
| PHP | 8.1+ | サーバーサイド言語 |
| Laravel | 8.x | Webアプリケーションフレームワーク |
| MySQL | 8.0+ | データベース |
| Composer | 2.x | パッケージ管理 |

### 2.2 フロントエンド

| 技術 | 用途 |
| --- | --- |
| HTML5 | マークアップ |
| CSS3 | スタイリング（CSSのみで実装） |
| JavaScript | 必要最低限の動的機能のみ |

### 2.3 開発ツール

- Git/GitHub（バージョン管理）
- Docker（開発環境構築）※オプション

---

## 3. 機能要件

### 3.1 フロントエンド機能（公開サイト）

### 3.1.1 トップページ（Hero）

**URL**: `/`

**表示内容**:

- ウェルカムメッセージ
- メインビジュアル（デスクトップ画像）
- キャッチコピー
- ナビゲーションメニュー

**機能**:

- スムーススクロールでセクション移動
- レスポンシブ対応

---

### 3.1.2 About（自己紹介）

**URL**: `/#about`（アンカーリンク）

**表示内容**:

- プロフィール画像
- 氏名・ふりがな
- 所在地
- 自己紹介文
- SNSリンク（GitHub、Instagram）

**データ取得**:

```php
// UsersController
$user = User::with('snsLinks')->first();

```

---

### 3.1.3 Skills（スキル一覧）

**URL**: `/#skills`

**表示内容**:

- カテゴリ別スキル一覧
    - フロントエンド
    - バックエンド/サーバー
    - 環境構築など
    - 開発ツール
    - ソフトスキル
- 各スキルの詳細（モーダル表示）
    - スキル名
    - スキルレベル（5段階評価）
    - 経験年数
    - 詳細説明

**機能**:

- 各カテゴリカード内にスキル名表示
- スキル名クリックでモーダル表示
- モーダル内でスキル詳細を表示
- CSSのみでモーダル実装（`:target`疑似クラス使用）

**データ取得**:

```php
// SkillsController
$categories = SkillCategory::with(['skills' => function($query) {
    $query->orderBy('display_order');
}])->orderBy('display_order')->get();

```

---

### 3.1.4 Works（作品一覧）

**URL**: `/#works`

**表示内容**:

- カテゴリ別作品一覧（個人・業務）
- サムネイル画像
- タイトル
- 制作期間

**機能**:

- カテゴリでフィルタリング（CSS`:checked`疑似クラス使用）
- 作品クリックで詳細ページへ遷移

**データ取得**:

```php
// WorksController
$works = Work::with('category')
    ->where('is_published', true)
    ->orderBy('display_order')
    ->get();

```

---

### 3.1.5 Contact（問い合わせフォーム）

**URL**: `/#contact`

**入力項目**:

- 氏名/会社名（必須）
- メールアドレス（必須）
- 件名（任意）
- お問い合わせ内容（必須）

**バリデーション**:

```php
$rules = [
    'sender_name' => 'required|max:100',
    'sender_email' => 'required|email|max:255',
    'subject' => 'nullable|max:200',
    'message' => 'required|max:2000',
];

```

**機能**:

- フォーム送信
- 確認画面表示（Confirm）
- 送信完了画面（Thanks）
- サーバーサイドバリデーション
- CSRF保護

**処理フロー**:

1. Contact → Confirm（確認画面）
2. Confirm → Thanks（送信完了）

**データ保存**:

```php
// InquiriesController
Inquiry::create([
    'user_id' => 1, // 管理者ID
    'sender_name' => $request->sender_name,
    'sender_email' => $request->sender_email,
    'subject' => $request->subject,
    'message' => $request->message,
    'status' => '未読',
]);

```

---

### 3.2 管理画面機能

### 3.2.1 ダッシュボード

**URL**: `/admin/dashboard`

**表示内容**:

- プロフィール概要
- スキル登録数（カテゴリ別）
- ワーク登録数
- 未読問い合わせ件数

**認証**: Laravel標準認証機能

---

### 3.2.2 プロフィール管理

**URL**: `/admin/profile`

**編集項目**:

- 氏名
- ふりがな
- プロフィール画像
- 所在地
- 自己紹介文
- 認証管理（メールアドレス/パスワード変更）

**機能**:

- プロフィール情報編集
- 画像アップロード（storage/public/profile）
- SNSリンク編集
- 認証情報の変更

**バリデーション**:

```php
$rules = [
    'name' => 'required|max:100',
    'name_kana' => 'nullable|max:100',
    'profile_image' => 'nullable|image|max:2048',
    'location' => 'nullable|max:100',
    'bio' => 'nullable|max:2000',
];

```

---

### 3.2.3 スキル管理

**URL**: `/admin/skills`

**一覧画面**:

- カテゴリ別にスキルを表示
- 編集・削除ボタン

**追加/編集画面**: `/admin/skills/create`, `/admin/skills/{id}/edit`

**入力項目**:

- カテゴリ（プルダウン）
- スキル名
- スキルレベル（1-5の選択）
- 経験年数
- 詳細説明
- 表示順序

**機能**:

- CRUD操作
- カテゴリ管理（追加・編集・削除）
- ドラッグ&ドロップで表示順変更（オプション）

---

### 3.2.4 ワーク管理

**URL**: `/admin/works`

**一覧画面**:

- 作品一覧（カテゴリ別表示）
- 公開/非公開ステータス
- 編集・削除ボタン

**追加/編集画面**: `/admin/works/create`, `/admin/works/{id}/edit`

**入力項目**:

- カテゴリ（プルダウン）
- タイトル
- サムネイル画像
- 追加画像
- 概要
- 使用技術
- プロジェクトURL
- リポジトリURL
- 公開設定
- 表示順序

**バリデーション**:

```php
$rules = [
    'title' => 'required|max:200',
    'category_id' => 'nullable|exists:work_categories,id',
    'thumbnail_image' => 'nullable|image|max:5120',
    'description' => 'nullable|max:2000',
    'project_url' => 'nullable|url',
    'repository_url' => 'nullable|url',
];

```

**機能**:

- CRUD操作
- 画像アップロード
- 公開/非公開切り替え

---

### 3.2.5 問い合わせ管理

**URL**: `/admin/inquiries`

**一覧画面**:

- 問い合わせ一覧
- ステータス（未読/既読）
- 送信者名・メールアドレス
- 受信日時
- 詳細表示ボタン

**詳細画面**: `/admin/inquiries/{id}`

**表示内容**:

- 送信者名
- メールアドレス
- 件名
- 本文
- 受信日時

**機能**:

- 一覧表示
- 詳細閲覧
- 未読→既読への自動更新
- 削除機能

---

## 4. 画面仕様

### 4.1 フロントエンド（公開サイト）

### 4.1.1 レイアウト構成

```
┌─────────────────────────────┐
│     Header / Navigation     │
├─────────────────────────────┤
│          Hero Section       │
├─────────────────────────────┤
│         About Section       │
├─────────────────────────────┤
│        Skills Section       │
├─────────────────────────────┤
│        Works Section        │
├─────────────────────────────┤
│       Contact Section       │
├─────────────────────────────┤
│          Footer             │
└─────────────────────────────┘

```

### 4.1.2 カラースキーム

- **プライマリカラー**: オレンジ系（#FF8C69など）
- **セカンダリカラー**: グリーン系（#90C090など）
- **ベースカラー**: ホワイト（#FFFFFF）
- **テキストカラー**: ダークグレー（#333333）

### 4.1.3 レスポンシブブレークポイント

```css
/* Mobile First */
@media (min-width: 768px)  { /* タブレット */ }
@media (min-width: 1024px) { /* デスクトップ */ }

```

---

### 4.2 管理画面

### 4.2.1 レイアウト構成

```
┌──────┬──────────────────────┐
│      │   Header             │
│ Side ├──────────────────────┤
│ bar  │                      │
│      │   Main Content       │
│ Nav  │                      │
│      │                      │
└──────┴──────────────────────┘

```

### 4.2.2 ナビゲーション

- ダッシュボード
- プロフィール管理
- スキル管理
- ワーク管理
- 問い合わせ管理
- ログアウト

---

## 5. 非機能要件

### 5.1 セキュリティ

- CSRF保護（Laravel標準機能）
- XSS対策（Bladeのエスケープ機能）
- SQLインジェクション対策（Eloquent ORM）
- パスワードハッシュ化（bcrypt）
- 管理画面の認証・認可

### 5.2 パフォーマンス

- 画像最適化（WebP対応）
- Eager Loading（N+1問題対策）
- キャッシュ活用（Laravelキャッシュ）

### 5.3 SEO

- 適切なmetaタグ設定
- セマンティックHTML
- sitemap.xml生成

### 5.4 アクセシビリティ

- キーボード操作対応
- 適切なaria属性
- 十分なコントラスト比

---

## 6. 開発環境

### 6.1 推奨開発環境

```bash
# 必須
PHP >= 8.1
Composer >= 2.0
MySQL >= 8.0
Node.js >= 16.x (npm/yarn)

# 推奨
Docker Desktop
VSCode + PHP Extension Pack

```

### 6.2 ディレクトリ構造

```
portfolio/
├── app/
│   ├── Http/
│   │   ├── Controllers/
│   │   │   ├── HomeController.php
│   │   │   ├── InquiryController.php
│   │   │   └── Admin/
│   │   │       ├── DashboardController.php
│   │   │       ├── ProfileController.php
│   │   │       ├── SkillController.php
│   │   │       ├── WorkController.php
│   │   │       └── InquiryController.php
│   │   └── Middleware/
│   ├── Models/
│   │   ├── User.php
│   │   ├── SkillCategory.php
│   │   ├── Skill.php
│   │   ├── WorkCategory.php
│   │   ├── Work.php
│   │   ├── Inquiry.php
│   │   └── SnsLink.php
│   └── ...
├── database/
│   ├── migrations/
│   └── seeders/
├── public/
│   ├── css/
│   │   ├── style.css
│   │   └── admin.css
│   ├── js/
│   │   └── main.js
│   └── images/
├── resources/
│   └── views/
│       ├── layouts/
│       │   ├── app.blade.php
│       │   └── admin.blade.php
│       ├── home.blade.php
│       ├── contact/
│       │   ├── confirm.blade.php
│       │   └── thanks.blade.php
│       └── admin/
│           ├── dashboard.blade.php
│           ├── profile/
│           ├── skills/
│           ├── works/
│           └── inquiries/
└── routes/
    ├── web.php
    └── api.php

```

### 6.3 Laravel設定

### 6.3.1 .env設定例

```
APP_NAME="Portfolio"
APP_ENV=local
APP_DEBUG=true
APP_URL=http://localhost

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=portfolio
DB_USERNAME=root
DB_PASSWORD=

MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-password
MAIL_ENCRYPTION=tls

```

### 6.3.2 ルーティング設計

```php
// routes/web.php

// フロントエンド
Route::get('/', [HomeController::class, 'index'])->name('home');
Route::post('/contact/confirm', [InquiryController::class, 'confirm'])->name('contact.confirm');
Route::post('/contact/send', [InquiryController::class, 'send'])->name('contact.send');

// 管理画面
Route::prefix('admin')->middleware(['auth'])->name('admin.')->group(function () {
    Route::get('/dashboard', [Admin\DashboardController::class, 'index'])->name('dashboard');

    // プロフィール
    Route::get('/profile', [Admin\ProfileController::class, 'edit'])->name('profile.edit');
    Route::put('/profile', [Admin\ProfileController::class, 'update'])->name('profile.update');

    // スキル
    Route::resource('skills', Admin\SkillController::class);
    Route::resource('skill-categories', Admin\SkillCategoryController::class);

    // ワーク
    Route::resource('works', Admin\WorkController::class);

    // 問い合わせ
    Route::get('/inquiries', [Admin\InquiryController::class, 'index'])->name('inquiries.index');
    Route::get('/inquiries/{inquiry}', [Admin\InquiryController::class, 'show'])->name('inquiries.show');
    Route::delete('/inquiries/{inquiry}', [Admin\InquiryController::class, 'destroy'])->name('inquiries.destroy');
});

// 認証
Auth::routes(['register' => false]); // 新規登録は無効化

```

---

## 7. 実装フェーズ

### Phase 1: 環境構築・DB設計

- [ ]  Laravel新規プロジェクト作成
- [ ]  データベース設計・マイグレーション作成
- [ ]  シーダー作成

### Phase 2: 認証機能

- [ ]  Laravel UI導入
- [ ]  ログイン機能実装
- [ ]  管理画面レイアウト作成

### Phase 3: 管理画面（CRUD）

- [ ]  ダッシュボード
- [ ]  プロフィール管理
- [ ]  スキル管理
- [ ]  ワーク管理
- [ ]  問い合わせ管理

### Phase 4: フロントエンド（公開サイト）

- [ ]  トップページ（Hero）
- [ ]  Aboutセクション
- [ ]  Skillsセクション（モーダル）
- [ ]  Worksセクション
- [ ]  Contactフォーム

### Phase 5: 仕上げ・テスト

- [ ]  レスポンシブ対応
- [ ]  バリデーション強化
- [ ]  セキュリティ対策確認
- [ ]  動作テスト

---

## 8. 参考資料

### 8.1 Laravel公式ドキュメント

- https://laravel.com/docs/8.x

### 8.2 CSS設計参考

- BEM記法
- モジュール設計

### 8.3 セキュリティチェックリスト

- OWASP Top 10

---

**作成日**: 2025-10-05

**バージョン**: 1.0

**作成者**: Portfolio Development Team